<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:pr="http://primefacesreload.com/jsf/tags"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	template="/resources/templates/bodyTabTemplate.xhtml">


	<ui:param name="bean" value="#{mProductionController}" /> 
	
	<ui:param name="renderedHeader" value="true" />


	<ui:define name="headerRight">
		<h:panelGrid columns="10"
			rendered="#{mProductionController.taskActive != null}">  
			<p:outputLabel value="CÃ³digo:" for="ottaskid" />
			<h:outputText id="ottaskid"
				value="#{mProductionController.taskActive.taskId}"
				style="font-weight: normal !important;" />

			<p:outputLabel value="Tarea:" for="ottaskname" />
			<h:outputText id="ottaskname"
				value="#{mProductionController.taskActive.name}"
				style="font-weight: normal !important;" />

			<p:outputLabel value="Creada:" for="otCreatedOn" />
			<h:outputText id="otCreatedOn"
				value="#{mProductionController.taskActive.createdOn}"
				style="font-weight: normal !important;" />

			<p:outputLabel value="Instancia:" for="otInstance" />
			<h:outputText id="otInstance"
				value="#{mProductionController.processTaskActive.id}"
				style="font-weight: normal !important;" />

			<p:outputLabel value="Proceso:" for="otProcess" />
			<h:outputText id="otProcess"
				value="#{mProductionController.processTaskActive.processName}"
				style="font-weight: normal !important;" />

		</h:panelGrid>
	</ui:define>

	<ui:define name="filtro">
		<ui:include
			src="/pages/productionMgt/transactions/workEffort/filtro.xhtml"></ui:include>
	</ui:define>

	<ui:define name="resultado">
		<ui:include
			src="/pages/productionMgt/transactions/workEffort/resultado.xhtml"></ui:include>
	</ui:define>

	<ui:define name="detalle">
		<ui:include
			src="/pages/productionMgt/transactions/workEffort/detalle.xhtml"></ui:include>
	</ui:define>


	<ui:define name="extraButtonsDetail">
	
		<p:commandButton icon="ui-icon-transferthick-e-w"
			process="@this lpDetail" update="lcontent pg_detalle" 
			actionListener="#{mProductionController.actionWorkEffortValidate()}"
			id="cbValidateWorkEffort"  
			value="Validar parte de trabajo" rendered="#{bean.currentEntity.id ne null}"/>     
	
	
		<p:commandButton icon="ui-icon-transferthick-e-w"
			process="@this lpDetail" update="lcontent pg_detalle"  
			actionListener="#{mProductionController.actionCreateStandards()}"
			id="cbCreateStandars"  
			value="Material usado" rendered="#{bean.currentEntity.id ne null and mProductionController.mProductionplan ne null}"/>    

		<p:commandButton icon="ui-icon-transferthick-e-w"
			process="@this lpDetail" update="pg_detalle cbCompleteTask"
			actionListener="#{mProductionController.completeTask()}"
			id="cbCompleteTask" value="Finalizar y Continuar"
			rendered="#{mProductionController.taskActive != null ? mProductionController.taskActive.status eq 'InProgress' : false}" />
	</ui:define>



</ui:composition>