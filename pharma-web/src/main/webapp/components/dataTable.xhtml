<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:pr="http://primefacesreload.com/jsf/tags"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">

	<h:outputScript>
	$(document).bind('click', function(){
	    return false;
	});
		
	</h:outputScript>
	
	<style type="text/css">
.ui-paginator-left{
	float: left;
	line-height: 20px;
}

.ui-paginator-left > span{
	display: inline-block;
    vertical-align: middle;
    line-height: 1em; /*set line height back to normal*/
    margin-left: 2px;
}

</style>

	<pr:default var="rows" value="10" />
	<pr:default var="rowsPerPageTemplate" value="20,50,100" />
	<pr:default var="emptyMessage"
		value="No existen registros para la consulta." />
		
	<pr:default var="selectionMode" value="single" />	
		
	<pr:default var="editable" value="#{false}" />
	
	<pr:default var="rowSelectMode" value="new" />
	
	<pr:default var="editingRow" value="#{false}" />
	
	<pr:default var="auditable" value="#{true}" />
	
	<pr:default var="renderedSelectionMode" value="true" />
	
	<p:dataTable id="#{id}" var="row" value="#{dataTable}" widgetVar="wvDat_#{id}"  
		rowKey="#{rowKey}" paginator="true" 
		paginatorTemplate="{DetailRecords} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
		paginatorPosition="bottom" rows="#{rows}"  
		rowsPerPageTemplate="#{rowsPerPageTemplate}"
		currentPageReportTemplate="Total: {totalRecords} ({currentPage} de {totalPages})"
		emptyMessage="#{emptyMessage}" selection="#{selection}"
		editable="#{editable}" style="margin-bottom:0" editingRow="#{editingRow}" editMode="cell" rowStyleClass="#{rowStyleClass}"> 
		
		
		<f:facet name="{DetailRecords}">
			<div class="ui-paginator-left">
				<span>
					<h:panelGroup layout="block" rendered="#{editable}">
					Registros: #{totalRecords}
					<p:spacer width="10"></p:spacer> 
					Seleccionados: #{selectedRecords}
					<p:spacer width="10"></p:spacer> 
					Modificados: #{totalModified}
					</h:panelGroup>
				</span>
			</div>
		</f:facet>
		
		<ui:insert name="events"/>

		<p:column selectionMode="#{selectionMode}" style="width:16px;text-align:center" rendered="#{renderedSelectionMode}"/> 

		<pr:context header="">
			<ui:insert />
		</pr:context>
		
		<p:column sortBy="#{row.created}" headerText="Fecha creación" rendered="#{auditable}" width="130">
			<h:outputText value="#{row.created}">
				<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" type="both" />
			</h:outputText>
		</p:column>
		
		<p:column sortBy="#{row.createdby}" headerText="Creado por" rendered="#{auditable}" width="110">
			<h:outputText value="#{row.createdby}" />
		</p:column>
		
		<p:column sortBy="#{row.updated}" headerText="Fecha actualización" rendered="#{auditable}" width="130">
			<h:outputText value="#{row.updated}">
				<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" type="both" />
			</h:outputText>
		</p:column>
		
		<p:column sortBy="#{row.updatedby}" headerText="Actualizado por" rendered="#{auditable}" width="120">
			<h:outputText value="#{row.updatedby}" />
		</p:column> 
		
		 
		
		<f:facet name="footer">
			<ui:insert name="footer"/>
		</f:facet>

	</p:dataTable>


</ui:composition>